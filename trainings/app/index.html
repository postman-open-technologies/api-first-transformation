---
layout: default
title: Home
---

 <div>
    <section>
       <div class="container">

        <br>
        <h2>Messages</h2>
        <p>This is a messaging app that pulls messages from our API and listing them on the page, providing an application that makes a live API call to support a training.</p>
        <script>

        function pullmessages(){

          url = 'https://34cb4157-baf5-499a-be93-9915c07dc30c.mock.pstmn.io/v1/messages?q&limit=25&page=0';

          const options = {
              method: 'get'
          };	

          fetch(url,options)
              .then(function(response) {
                  if (!response.ok) {
                      console.log('Error with Status Code: ' + response.status);
                      return;
                  }
                  response.json().then(function(data) {	

                    let result = '';
                    result += '<tr style="background-color: #D3D3D3; margin-top:10px;">';
                    result += '<td style="padding: 10px;"><strong>To</strong></td>';  
                    result += '<td style="padding: 10px;"><strong>From</strong></td>';  
                    result += '<td style="padding: 10px;"><strong>Subject</strong></td>';  
                    result += '<td style="padding: 10px;"><strong>Body</strong></td>';  
                    result += '<td style="padding: 10px;"><strong>Timestmap</strong></td>';
                    result += '<td style="padding: 10px;"><strong>Details</strong></td>';
                    result += '</tr>';                    
                    for (var i = 0; i < data.length; i++) {
                      result += '<tr>';
                      result += '<td style="padding: 10px;">' + data[i].to + '</td>';  
                      result += '<td style="padding: 10px;">' + data[i].from + '</td>';  
                      result += '<td style="padding: 10px;">' + data[i].subject + '</td>';  
                      result += '<td style="padding: 10px;">' + data[i].body + '</td>';  
                      result += '<td style="padding: 10px;">' + data[i].timestamp + '</td>';
                      result += '<td style="padding: 10px;"><a href="details/">Details</a></td>';
                      result += '</tr>';
                    }
                    result += '<tr style="background-color: #D3D3D3; margin-top:10px;">';
                    result += '<td style="padding: 5px;"></td>';  
                    result += '<td style="padding: 5px;"></td>';  
                    result += '<td style="padding: 5px;"></td>';  
                    result += '<td style="padding: 5px;"></td>';  
                    result += '<td style="padding: 5px;"><br></td>';
                    result += '<td style="padding: 5px;"><br></td>';
                    result += '</tr>'; 
                    
                    document.getElementById('results').innerHTML = result;

                  });
              })
              .catch(function(err) {
                  console.log('Error: ' + err);
          });

          }          
                    
          pullmessages();

        </script>
        <table id="results" align="center" style="width: 90%;"></table>
        <br>
        <p>The API calls behind this page can be recorded using Postman Interceptor in the Chrome browser, automating the documentation of this API with a collection.</p>
      </div>
    </section>
 </div>